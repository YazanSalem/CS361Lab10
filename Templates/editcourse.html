<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        h4 {
            text-align: center;
        }
    </style>
    <title> Edit Course</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'styles.css' %}">

    <meta charset="UTF-8">
</head>

<body>
<nav>
    <div class="nav-center">
        <h4>Edit Course</h4>
        <ul class="nav-links">
            <li><a href="../home/">Dashboard</a></li>
            <li><a href="../createcourse/">Create</a></li>
            <li><a href="../deletecourse/">Delete</a></li>
            <li><a href="../login/">Log Out</a></li>
        </ul>
    </div>
</nav>

<main>
    <div class="container">
        <form class="form-control" action="/editcourse/" method="post">
            {% csrf_token %}

            <table border="1">
                <tr>
                    <th>Course ID</th>
                    <th>Name</th>
                    <th>Location</th>
                    <th>Hours</th>
                    <th>Days</th>
                    <th>Instructor</th>
                    <th>TAs</th>
                </tr>
                {% for Course in Course_list %}
                    <tr>
                        {% if change_course.courseID  == Course.courseID %}
                            <td><label for=name=id></label><input type="number" id=name=id value={{ Course.courseID }}>
                            </td>
                            <td><label for=name></label><input type="text" id=name name=name value={{ Course.name }}>
                            </td>
                            <td><label for=location></label><input type="text" id=location name=location
                                                                   value={{ Course.location }}></td>
                            <td><label for=hours></label><input type="text" id=hours name=hours
                                                                value={{ Course.hours }}></td>
                            <td>
                                <label for=days></label>
                                <select multiple name="days" id="days">
                                    <option value="M">Monday</option>
                                    <option value="T">Tuesday</option>
                                    <option value="W">Wednesday</option>
                                    <option value="Th">Thursday</option>
                                    <option value="F">Friday</option>
                                </select>
                            </td>
                            <td>
                                <label for="instructor"></label><select name="instructor" id="instructor">
                                {% for UserProfile in UserProfile_list %}
                                    {% if UserProfile.userType == "INSTRUCTOR" %}
                                        <option value={{ UserProfile.userID }}> {{ UserProfile.username }} </option>
                                    {% endif %}
                                    {{% endfor %}
                            </select>
                            </td>
                            <td>
                                <label for="TAs"></label><select multiple name="TAs" id="TAs">
                                {% for UserProfile in UserProfile_list %}
                                    {% if UserProfile.userType == "TA" %}
                                        <option value={{ UserProfile.userID }}>{{ UserProfile.username }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                            </td>
                            <td>
                                <button name="submit" type="submit" value={{ Course.courseID }}>Submit</button>
                            </td>
                        {% else %}

                            <td>{{ Course.courseID }}</td>
                            <td>{{ Course.name }}</td>
                            <td>{{ Course.location }}</td>
                            <td>{{ Course.hours }}</td>
                            <td>{{ Course.days }}</td>
                            <td>{{ Course.instructor }}</td>
                            <td>
                                <ul>
                                    {% for i in Course.TAs.all %}
                                        <li style="display: inline">{{ i }}</li>
                                    {% endfor %}
                                </ul>
                            </td>
                            {% if change_course == null %}
                                <td>
                                    <button name="edit" type="submit" value={{ Course.courseID }}>Edit</button>
                                </td>
                            {% endif %}
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
            <ul>
                <br>

                {#       <button class="btn btn-hero" id="btn">Edit Course</button>#}
            </ul>
        </form>
    </div>
</main>
<div class="container">
    <div class="row">
        <div class="column">
            <!--Context variables if there was an unsuccessful login, the 'error' & 'success' variable needs to be used in the CreateCourse.post() method-->
            {% if success %}
                {{ success }}
            {% endif %}

            {% if error %}
                {{ error }}
            {% endif %}
        </div>
    </div>
</div>
</body>

</html>